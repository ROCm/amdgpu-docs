# Data Center GPU driver 30.10 release notes

The release notes provide a summary of notable changes since the previous Instinct Driver release. 

## Release highlights

The following are notable new features and improvements in Instinct Driver 30.10. Refer to [Detailed component changes](#detailed-component-changes) for additional details.

### Operating system and hardware support changes

The Instinct driver 30.10 adds support for [AMD Instinct MI355X](https://www.amd.com/en/products/accelerators/instinct/mi350/mi355x.html) and [MI350X](https://www.amd.com/en/products/accelerators/instinct/mi350/mi350x.html).

Instinct Driver 30.10 introduces support for the following operating systems and kernel versions:

* Rocky 9
* Ubuntu 24.04.3

Instinct driver 30.10 marks end-of-support (EOS) for Ubuntu 24.04.2.

For the compatibility between user space, kernel-mode GPU driver space, GPUs and OS, see the [Compatibility
matrix](../../docs/compatibility/compatibility-matrix.rst)

### New features

* Added support for the following partitioning modes:
    * NPS1 + SPX for AMD Instinct MI355X
    * NPS2 + DPX for AMD Instinct MI355X
* Added SDMA engine reset to support finer-grain GPU resiliency.
* Added support for Stochastic (hardware-based) and Host-trap Program Counter(PC) sampling.

## Detailed changes

### Partitioning

#### Added

The Instinct Driver 30.10 adds the following memory and compute partitioning support:

* **NPS1 + SPX partitioning for AMD Instinct MI355X**: This memory partitioning mode exposes the entire memory to all compute dies (XCDs), allowing full access across the GPU. In SPX (Single Partition Compute Mode), workgroups are distributed round-robin across all XCDs. There’s no explicit control over which XCD executes a given kernel, making it simple and general-purpose. This feature requires BKC 25.04.

* **NPS2 + DPX partitioning for AMD Instinct MI355X**: NPS2 splits the GPU’s memory into two NUMA domains. Dual Partition Compute Mode (DPX) divides the GPU’s compute resources into two partitions, each with 4 XCDs (out of 8 total), 8 DMA engines, and 2 VCN decoder groups. This feature requires BKC 25.07.

### GPU resiliency

#### Added

The following GPU resiliency features are supported in the Instinct Driver 30.10 for AMD Instinct MI300X, MI350X, and MI355X:

* SDMA engine reset enables recovery from SDMA-related faults without requiring a full GPU reset, improving system stability and fault tolerance.

### Program Counter(PC) Sampling

#### Added

The Instinct Driver 30.10.0 adds support for Stochastic (hardware-based) and Host-trap PC sampling, a GPU profiling technique used for analyzing kernel execution performance. 

* **Stochastic PC sampling**: This method randomly triggers wave traps across compute units to capture program counter (PC) snapshots. This method introduces randomness in wave selection, enabling broader statistical coverage of kernel execution behavior. This feature is supported on the MI300-series GPUs (including MI300A, MI300X, MI325X, MI350X, and MI355X). 

* **Host-trap PC Sampling**: This method allows controlled, device-wide profiling. It works by periodically selecting active wave slots across compute units and triggering a trap handler to capture the program counter (PC), producing a histogram of sampled instructions. This feature is supported on the MI200-series GPUs (including MI210, MI250, and MI250X) and MI300-series GPUs (including MI300A, MI300X, MI325X, MI350X, and MI355X).

This feature can be accessed either through the ROCprofiler method or directly via the ROCm Runtime vendor extension APIs, which are defined in the `hsa_ven_amd_pc_sampling.h` header as follows: 

```
hsa_status_t hsa_ven_amd_pcs_create(hsa_agent_t agent, hsa_ven_amd_pcs_method_kind_t method, 
                                    hsa_ven_amd_pcs_units_t units, size_t interval, size_t latency, 
                                    size_t buffer_size, 
                                    hsa_ven_amd_pcs_data_ready_callback_t data_ready_callback, 
                                    void* client_callback_data, hsa_ven_amd_pcs_t* pc_sampling); 
hsa_status_t hsa_ven_amd_pcs_destroy(hsa_ven_amd_pcs_t pc_sampling); 
hsa_status_t hsa_ven_amd_pcs_start(hsa_ven_amd_pcs_t pc_sampling); 
hsa_status_t hsa_ven_amd_pcs_stop(hsa_ven_amd_pcs_t pc_sampling); 
hsa_status_t hsa_ven_amd_pcs_flush(hsa_ven_amd_pcs_t pc_sampling); 
```
## Instinct driver known issues

Exceeding bad memory page threshold fails to declare Out-Of-Band Common Platform Error Records (CPERs). Issue affects all MI3xx series GPU, including MI300X, MI300X-HF, MI308X, MI325, MI350X and MI355X. This issue will be fixed in a future Instinct Driver release. 

## Instinct driver resolved issues

Issue with restoring a CRIU checkpoint for workloads on AMD Instinct MI series GPUs.
